// ELFA Network Verification
// Checks if a provider's license number is in the SF ELFA network
// Data sourced from: https://sfdec.org/early-learning-for-all/early-learning-programs/
// Last updated: January 2025 (369 providers)

// ELFA FCC License Numbers (updated from SFDEC website)
const ELFA_FCC_LICENSES = new Set([
  '380503937',  '380504493',  '380505442',  '380505839',  '380506068',  '380506194',
  '380506504',  '384000014',  '384000052',  '384000083',  '384000091',  '384000096',
  '384000113',  '384000235',  '384000267',  '384000283',  '384000326',  '384000408',
  '384000435',  '384000508',  '384000527',  '384000560',  '384000561',  '384000583',
  '384000735',  '384000744',  '384000760',  '384000771',  '384000808',  '384000824',
  '384000843',  '384000854',  '384000888',  '384000908',  '384000941',  '384000965',
  '384000990',  '384001027',  '384001041',  '384001053',  '384001060',  '384001061',
  '384001123',  '384001129',  '384001158',  '384001170',  '384001200',  '384001201',
  '384001211',  '384001225',  '384001229',  '384001283',  '384001284',  '384001285',
  '384001290',  '384001308',  '384001337',  '384001349',  '384001352',  '384001362',
  '384001364',  '384001371',  '384001390',  '384001432',  '384001433',  '384001441',
  '384001451',  '384001466',  '384001472',  '384001499',  '384001543',  '384001557',
  '384001561',  '384001563',  '384001565',  '384001580',  '384001605',  '384001615',
  '384001630',  '384001637',  '384001652',  '384001682',  '384001701',  '384001703',
  '384001728',  '384001750',  '384001751',  '384001777',  '384001787',  '384001801',
  '384001809',  '384001818',  '384001821',  '384001862',  '384001865',  '384001892',
  '384001894',  '384001896',  '384001899',  '384001939',  '384001941',  '384001942',
  '384001958',  '384002022',  '384002024',  '384002032',  '384002084',  '384002089',
  '384002091',  '384002094',  '384002138',  '384002146',  '384002157',  '384002174',
  '384002205',  '384002207',  '384002310',  '384002326',  '384002327',  '384002347',
  '384002354',  '384002365',  '384002397',  '384002409',  '384002423',  '384002430',
  '384002431',  '384002432',  '384002440',  '384002452',  '384002458',  '384002481',
  '384002482',  '384002486',  '384002487',  '384002489',  '384002505',  '384002508',
  '384002510',  '384002524',  '384002533',  '384002537',  '384002581',  '384002590',
  '384002591',  '384002596',  '384002600',  '384002601',  '384002603',  '384002608',
  '384002622',  '384002624',  '384002628',  '384002630',  '384002633',  '384002634',
  '384002639',  '384002640',  '384002641',  '384002651',  '384002655',  '384002658',
  '384002665',  '384002668',  '384002669',  '384002683',  '384002685',  '384002694',
  '384002695',  '384002703',  '384002721',  '384002723',  '384002759',  '384002768',
  '384002779',  '384002790',  '384002796',  '384002797',  '384002799',  '384002800',
  '384002804',  '384002808',  '384002811',  '384002817',  '384002830',  '384002833',
  '384002842',  '384002847',  '384002969',  '384002976',  '384002981',  '384002986',
  '384002995',  '384003002',  '384003006',  '384003034',  '384003044',  '384003054',
  '384003060',  '384003074',  '384003080',  '384003099',  '384004015',  '384004020',
  '384004022',  '384004031',  '384004033',  '384004036',  '384004041',  '384004045',
  '384004048',  '384004056',  '384004061',  '384004072',  '384004079',  '384004099',
  '384004118',  '384004120',  '384004125',  '384004130',  '384004141',  '384004143',
  '384004172',  '384004175',  '384004180',  '384004182',  '384004210',  '384004213',
  '384004214',  '384004227',  '384004238',  '384004241',  '384004242',  '384004253',
  '384004257',  '384004260',  '384004286',  '384004293',  '384004312',  '384004316',
  '384004318',  '384004319',  '384004320',  '384004332',  '384004336',  '384004344',
  '384004346',  '384004347',  '384004349',  '384004368',  '384004370',  '384004378',
  '384004380',  '384004382',  '384004391',  '384004410',  '384004419',  '384004420',
  '384004441',  '384004443',  '384004444',  '384004451',  '384004467',  '384004473',
  '384004474',  '384004483',  '384004490',  '384004511',  '384004514',  '384004519',
  '384004520',  '384004524',  '384004537',  '384004539',  '384004540',  '384004546',
  '384004553',  '384004554',  '384004555',  '384004558',  '384004567',  '384004570',
  '384004575',  '384004591',  '384004602',  '384004607',  '384004608',  '384004612',
  '384004615',  '384004617',  '384004630',  '384004650',  '384004655',  '384004659',
  '384004660',  '384004661',  '384004662',  '384004670',  '384004672',  '384004673',
  '384004676',  '384004680',  '384004682',  '384004683',  '384004687',  '384004691',
  '384004697',  '384004698',  '384004699',  '384004707',  '384004710',  '384004713',
  '384004719',  '384004721',  '384004723',  '384004724',  '384004726',  '384004728',
  '384004731',  '384004742',  '384004749',  '384004750',  '384004755',  '384004759',
  '384004766',  '384004767',  '384004772',  '384004781',  '384004784',  '384004785',
  '384004808',  '384004812',  '384004815',  '384004816',  '384004822',  '384004829',
  '384004833',  '384004836',  '384004842',  '384004851',  '384004863',  '384004864',
  '384004865',  '384004870',  '384004872',  '384004874',  '384004876',  '384004880',
  '384004889',  '384004905',  '384004907',  '384004914',  '384004926',  '384004960',
  '384004973',  '384004981',  '384005000',  '384005010',  '384005021',  '384005038',
  '384004583',  '384005041',  '384005049',  '384005064',  '384005066',  '384005078',
  '384005081',  '384005137',  '384005148',
]);

/**
 * Checks if a license number is in the ELFA network
 */
export async function checkElfaStatus(licenseNumber: string): Promise<boolean> {
  const cleanLicense = licenseNumber.trim();
  const isElfa = ELFA_FCC_LICENSES.has(cleanLicense);
  console.log(`ELFA check: ${cleanLicense} = ${isElfa}`);
  return isElfa;
}

/**
 * Get count of ELFA licenses in database
 */
export function getElfaLicenseCount(): number {
  return ELFA_FCC_LICENSES.size;
}
